
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>游戏和游戏化（下） | 唐巧的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="唐巧">
    

    
    <meta name="description" content="广义的游戏说完游戏，我们再说说游戏化。上面我们讲的游戏，其实是狭义的游戏，在我看来，还有一种广义的游戏。广义的游戏是指：为了达成某个目标，我们在设计中引入游戏的某些元素，使得大家从人性上更容易达成目标。
举一个例子：背单词。背单词是一件非常反人性的事情。单词的记忆量大，所需的记忆时间长，为了记住需要一遍一遍地复习。市面上的背单词软件为了让大家从人性上更加容易完成背单词这件枯燥的事情，想了各种游戏化">
<meta property="og:type" content="article">
<meta property="og:title" content="游戏和游戏化（下）">
<meta property="og:url" content="http://blog.devtang.com/2017/10/29/game-and-gamification-2/index.html">
<meta property="og:site_name" content="唐巧的博客">
<meta property="og:description" content="广义的游戏说完游戏，我们再说说游戏化。上面我们讲的游戏，其实是狭义的游戏，在我看来，还有一种广义的游戏。广义的游戏是指：为了达成某个目标，我们在设计中引入游戏的某些元素，使得大家从人性上更容易达成目标。
举一个例子：背单词。背单词是一件非常反人性的事情。单词的记忆量大，所需的记忆时间长，为了记住需要一遍一遍地复习。市面上的背单词软件为了让大家从人性上更加容易完成背单词这件枯燥的事情，想了各种游戏化">
<meta property="og:image" content="http://blog.devtang.com/images/2017-10-29-game-and-gamification-2-dd4d3.png">
<meta property="og:image" content="http://blog.devtang.com/images/2017-10-29-game-and-gamification-2-f537b.png">
<meta property="og:image" content="http://blog.devtang.com/images/2017-10-29-game-and-gamification-2-436e7.png">
<meta property="og:updated_time" content="2017-12-04T14:18:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="游戏和游戏化（下）">
<meta name="twitter:description" content="广义的游戏说完游戏，我们再说说游戏化。上面我们讲的游戏，其实是狭义的游戏，在我看来，还有一种广义的游戏。广义的游戏是指：为了达成某个目标，我们在设计中引入游戏的某些元素，使得大家从人性上更容易达成目标。
举一个例子：背单词。背单词是一件非常反人性的事情。单词的记忆量大，所需的记忆时间长，为了记住需要一遍一遍地复习。市面上的背单词软件为了让大家从人性上更加容易完成背单词这件枯燥的事情，想了各种游戏化">
<meta name="twitter:image" content="http://blog.devtang.com/images/2017-10-29-game-and-gamification-2-dd4d3.png">

    
    <link rel="alternative" href="/atom.xml" title="唐巧的博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.png">
    
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="唐巧的博客">唐巧的博客</a></h1>
				<h2 class="blog-motto">记录下自己学习的点滴</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:blog.devtang.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/10/29/game-and-gamification-2/" title="游戏和游戏化（下）" itemprop="url">游戏和游戏化（下）</a>
  </h1>
  
  <p class="article-time">
    <time datetime="2017-10-29T05:34:43.000Z" itemprop="datePublished"> 发表于 2017-10-29 13:34</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#广义的游戏"><span class="toc-number">1.</span> <span class="toc-text">广义的游戏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#游戏化实践"><span class="toc-number">2.</span> <span class="toc-text">游戏化实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#积分"><span class="toc-number">2.1.</span> <span class="toc-text">积分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#徽章"><span class="toc-number">2.2.</span> <span class="toc-text">徽章</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#排行榜"><span class="toc-number">2.3.</span> <span class="toc-text">排行榜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动力、机制与组件"><span class="toc-number">2.4.</span> <span class="toc-text">动力、机制与组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实践"><span class="toc-number">3.</span> <span class="toc-text">实践</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#案例"><span class="toc-number">4.</span> <span class="toc-text">案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li></ol>
		
		</div>
		
		<h2 id="广义的游戏"><a href="#广义的游戏" class="headerlink" title="广义的游戏"></a>广义的游戏</h2><p>说完游戏，我们再说说游戏化。上面我们讲的游戏，其实是狭义的游戏，在我看来，还有一种广义的游戏。广义的游戏是指：为了达成某个目标，我们在设计中引入游戏的某些元素，使得大家从人性上更容易达成目标。</p>
<p>举一个例子：背单词。背单词是一件非常反人性的事情。单词的记忆量大，所需的记忆时间长，为了记住需要一遍一遍地复习。市面上的背单词软件为了让大家从人性上更加容易完成背单词这件枯燥的事情，想了各种游戏化的方案。例如：在背诵时把单词的意思画成小插画、打卡机制、各种阶段性任务、任务完成之后勋章、朋友圈各种分享炫耀等。背单词和游戏其实并不相关，但是不影响它引入游戏化的元素。</p>
<p>如果说《游戏改变世界》一书是写给游戏从业者的，那么《游戏化思维》就是写给非游戏从业者的。《游戏化思维》一书中介绍了大量方法，可以将游戏中符合人性的元素引入到非游戏中。</p>
<h2 id="游戏化实践"><a href="#游戏化实践" class="headerlink" title="游戏化实践"></a>游戏化实践</h2><p>《游戏化思维》一书的结构非常清晰。我最喜欢的是书中的实践部分。</p>
<p>书中提到，最最基本的游戏元素就是积分（Point），徽章（Badge）和排行榜（Leaderboard），简称 PBL。这些元素确实随处可见，例如猿辅导上课时，就会在开课，答题，下课等环节引入积分奖励，这样你就会不由自主地全程参与整个课程。流利说每次口语跟读得优的时候，就会有一个金币 +1 的效果出来，虽然金币实际上用处不大，但是这种立即的反馈让人觉得有刚刚的努力有了成效。</p>
<h3 id="积分"><a href="#积分" class="headerlink" title="积分"></a>积分</h3><p>先说说积分。积分算是最常见的游戏化手段。我们说过游戏中的基本要素是目标、规则、反馈和自愿参与。积分可以很好地服务于 “规则” 和 “反馈”。举个例子，当玩家在虚拟世界中完成一个任务，立即显示出对应的积分变化。那么玩家很快就可以建立起任务完成与积分的因果关系，从而有效地评估这部分的激励。很多时候，积分还会被设计成阶段性的等级形式，或者设计成可以兑换某种奖励的可消费形式，这都给游戏的玩法增加了很多趣味性。</p>
<p>在书中，积分被总结成有以下作用：</p>
<ul>
<li>为游戏要素 “规则” 服务，可以有效地计分。</li>
<li>为游戏要素 “反馈” 服务，可以明确而频繁的反馈，它是最详细的反馈机制。</li>
<li>成为对外显示用户成就的方式。</li>
<li>在游戏进程和外在奖励之间构建联系。</li>
</ul>
<p>积分其实也有一些问题，最常见的问题就是它太详细和单一了。在最初帮助玩家建立起有效的规则和反馈之后，玩家对于反馈的注意力就会大大的减弱，因为每次的积分变化不会特别巨大，玩家不会因为这个产生巨大的情绪波动。所以积分通常还会附加一些别的设计，比如将积分成段，形成等级，或者为积分生成阶段性的排行榜之类，以便强化积分的效果。</p>
<p>积分还有一个问题，就是它其实是一种外显化的奖励。而一款游戏或者游戏化功能，其实有它内在的趣味和目标，过于外显化的奖励可能会弱化内在的趣味。</p>
<p>对于这一点，我有一个印象深刻的故事：</p>
<blockquote>
<p>一个老人住在一所房子里，每天都有一群小孩在院子里吵闹。老人想了一个办法，他把孩子们叫过来说：我一直觉得院子里太安静了，谢谢你们过来玩耍给院子带来了生气！作为感谢，以后你们每次来我都给你们 1 块钱。于是每个孩子都高兴地领到了钱。这样过了几天，老头说，我现在经济不太行了，只能每次给你们 5 毛钱，孩子们有点不高兴，但还是接受了。又过了几天，老头说，我以后不给钱了。孩子们炸了：我们每天给你们院子带来生气，你居然不分钱不给，我们再也不来了！</p>
</blockquote>
<p>在上面这个故事中，孩子玩游戏本身的乐趣，就是被外显化的金钱给转移和弱化了。</p>
<h3 id="徽章"><a href="#徽章" class="headerlink" title="徽章"></a>徽章</h3><p>刚刚说到积分的形式过于单一和微小，而徽章则是积分的反面，徽章可以提供多样化的评价，并且每次都可以是对玩家的一个巨大刺激。</p>
<p>很多 App 也有徽章的设计，比如得到，Keep，我们的猿题库在答题时有可能会掉落明信片，其实也是一种徽章。徽章在设计时可以有很多变化，比如：</p>
<ul>
<li>我们可以将徽章设计成达成某种成就时将奖励，这样徽章就可以是一种成就证明。</li>
<li>我们可以将徽章设计成随机掉落，这样配合全部徽章的介绍，徽章可以变成一种收集任务。</li>
<li>我们可以将徽章变成有奖励的形式，并且加强徽章的完成介绍，这样就徽章更像是一种任务。</li>
<li>我们也可以完全不介绍徽章如何获得，这样的徽章就变成了一种带有随机性和未知性的惊喜。下图是得到 App 的随机徽章。</li>
</ul>
<img src="/images/2017-10-29-game-and-gamification-2-dd4d3.png">
<ul>
<li>我们也可以将同一个徽章增加金银铜或积分等级，这样徽章就变成了一种变相的等级系统。多个不同的徽章可以融合形式多种维度的等级展示。下图是得到 App 的积分等级徽章：</li>
</ul>
<img src="/images/2017-10-29-game-and-gamification-2-f537b.png">
<p>徽章的优点其实也暗示着它的缺点。徽章过于灵活的设计规则使得产品经理常常会过度设计规则，而过于复杂的规则使得人们理解这个规则变得不容易。而这本来就是一个游戏，如果规则还需要人们特别花精力理解的话，很可能人们就不玩了。所以，过多的徽章让人无所适从。我们在设计的时候一定要适可而止。</p>
<h3 id="排行榜"><a href="#排行榜" class="headerlink" title="排行榜"></a>排行榜</h3><p>排行榜是一个相比积分更加明确的成就排名，玩家可以知道自己到底相对于其他玩家水平怎么样。排行榜由于是玩家之间的对比，所以相对于刚刚提到的积分和徽章，排行榜更能增加竞技性，而这种竞争带来的刺激会激励玩家更加努力。</p>
<p>我们小时候各个班级都会评小红花，发流动红旗，而且会在学校最醒目的黑板上公开各个班级的情况。这种竞争极大地激发出了大家的班级荣誉感，使得班级上很多团体活动能够团结一致，共同合作。</p>
<p>在游戏中，排行榜过于稳定也是一个问题，所以有些游戏会想一些办法，比如：设计按日排名的排行榜，设计让你看到你自己的名次的升降数以及相邻排行的人。</p>
<p>排行榜或许也是 PBL 中最难以设计的一个元素。因为有人排在前面，就有人排在后面。一个设计不好的排行榜，可能让普通玩家感受到目标的遥不可及。还是拿学校举例，虽然成绩排行榜对学生的学习有一进促进效果，但如果一个同学总是排在班级的最后几名，那么对他的信心打击将是巨大的。如果每个人都在认真地学习，那么排行榜对于前面几名的激励有限，但是对后面几名的打击却巨大，所以还不如没有得好。</p>
<p>在本书中，作者提到一些研究表明，商业环境中单纯引入排行榜通常会降低绩效。这也是为什么互联网公司的绩效排名虽然几乎每个公司都做，却通常不会面向所有员工公开的原因。</p>
<h3 id="动力、机制与组件"><a href="#动力、机制与组件" class="headerlink" title="动力、机制与组件"></a>动力、机制与组件</h3><p>刚刚聊到了 PBL，其实是一些游戏化的组件，而这些组件其实有很多很多。比如书中就列出了：成就、头像、徽章、打怪、收集、战斗、内容解锁、赠予、排行榜、等级、点数、任务、社交图谱、团队、虚拟商品等。</p>
<p>而机制方面，书中提到了挑战、随机机会、竞争、合作、反馈、资源获取、奖励、交易、回合、获胜状态。最上层的动力是：约束、情感、叙事、进展、关系。</p>
<p>整体动力、机制和组件的关系是一个金字塔一样的关系，如下图：</p>
<img src="/images/2017-10-29-game-and-gamification-2-436e7.png">
<p>可惜的是，这虽然有助于我们理解游戏化元素的理论层次，但并不足以帮助我们设计出更好的游戏化方案。</p>
<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><p>为了设计出更好的游戏化方案，作者提出了他的一套流程方法论，即：</p>
<ul>
<li>明确商业目标</li>
<li>划定目标行为</li>
<li>描述你的用户</li>
<li>制定活动周期</li>
<li>不要忘记乐趣</li>
<li>部署适当工具</li>
</ul>
<p>前三步属于搞清楚游戏化的目标和对象，后三步属于执行设计方案时注意的要点。</p>
<p>就我自己来看，互联网的游戏化设计更像是一个参考、设计、讨论调整的过程。我们首先参考游戏或者别的游戏化 App 去分析现有产品的设计方案，然后我们着手自己产品的特点和用户，设计自己的方案，最后是讨论和调整这个方案。最终方案上线后，我们还可以进一步收集分析数据来评估方案，然后做进一步的讨论调整，再设计的工作。</p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>因为上一节讲到，我们的实践偏案例形式，所以我这里给大家分享一些我看到的游戏化不错的案例。</p>
<p>我录制了几个案例视频：</p>
<ul>
<li><p>流利说的积分示例。它结合声音，很好地实现了积分的立即反馈效果。这种小奖励需要口语得分 85 分以上才行，所以用户不自觉就会把每一句跟读尽量读好。<a href="http://weibo.com/1708947107/FsB1ayqkP?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime&amp;type=comment" target="_blank" rel="external">视频示例</a></p>
</li>
<li><p>流利说对话中模仿游戏中的 “连击” 效果。让人不由自主希望继续优异表现。<a href="http://weibo.com/1708947107/FsB330Taj?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime&amp;type=comment" target="_blank" rel="external">视频示例</a></p>
</li>
<li><p>猿题库的排行榜。利用每周更新的个人榜和学校榜来激励大家竞争。<a href="http://weibo.com/1708947107/FsB5XzCN0?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime" target="_blank" rel="external">视频示例</a></p>
</li>
<li><p>小猿搜题 24 点游戏的积分，等级和排行榜。排行榜以日榜为主，加强变化的可能性。<a href="http://weibo.com/1708947107/FsB8djVJ7?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime" target="_blank" rel="external">示例</a></p>
</li>
<li><p>得到 App 的徽章系统。融合了积分，等级的星级勋章，以及融合了任务，奖励，收集和一点点神秘的成就勋章。<a href="http://weibo.com/1708947107/FsBpQ5iEz?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime&amp;type=comment" target="_blank" rel="external">视频示例</a></p>
</li>
<li><p>keep 的用户等级，融合了积分、等级、特权。<a href="http://weibo.com/1708947107/FsBsttmhr?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime&amp;type=comment" target="_blank" rel="external">视频示例</a></p>
</li>
</ul>
<p>也有一些我觉得做得不好的案例，比如我就对 “签到得积分” 这个产品形式非常不看好。因为签到本身并没有与 App 的功能紧密结合，得到的 “积分” 大多也就变成积分商城的一些实物奖品，这也没有与 App 的功能紧密结合。这种强行植入的游戏，很难让人坚持下来，即使有人坚持下来了，他也并不是你的 App 功能的忠实用户，而是你的奖品的忠实用户，而你的奖品是要你自己花钱提供的，一旦你的奖品没有吸引力或者不容易获得，用户就会流失。</p>
<p>小猿搜题在 2016 年曾经设计了这种失败的签到得积分功能，最后证明是非常失败的，几乎没有人能够坚持下来，对整体应用数据的影响微乎其微。</p>
<p>好的签到功能应该是与 App 本身功能紧密结合的，例如：英语流利说里面完成规定时长的口语练习才能在当天 “打卡”。打卡成功的奖励也应该与 App 本身紧密结合，比如可以解锁一些高级功能，或者获得一些虚拟的勋章或排行榜荣誉。</p>
<p>但是我们看市面上，还是有大量 App 采用了这种脱离 App 本身功能的游戏化设计。比如高德地图，某竞品 1 和某竞品 2。稍微好一些的，会把签到积分与任务系统结合，至少使积分的获得与 App 相关，比如优酷和爱奇艺。相关截图见：<a href="http://weibo.com/1708947107/FsBDz6Rt9?from=page_1005051708947107_profile&amp;wvr=6&amp;mod=weibotime&amp;type=comment#_rnd1509254730173" target="_blank" rel="external">示例</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>游戏化的产品设计符合人性，应该是每个产品经理都应该学习的设计思路。在实践上有积分、徽章、排行榜等常见的形式。整个游戏化的方案应该具备游戏具备的目标明确、规则易懂、反馈及时以及自愿参与的特点。游戏化的方案应该符合产品的最终目标，不应该为了游戏化而游戏化。参考案例以及反复迭代打磨是我认为最简单实际的游戏化实践的方式。</p>
<p>愿大家玩得开心。</p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/books-summary/">books summary</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/books/">books</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://blog.devtang.com/2017/10/29/game-and-gamification-2/" data-title="游戏和游戏化（下） | 唐巧的博客" data-tsina="undefined" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/11/28/fupan-summary/" title="成长的套路 - 《复盘》读书感受">
  <strong>上一篇：</strong><br/>
  <span>
  成长的套路 - 《复盘》读书感受</span>
</a>
</div>


<div class="next">
<a href="/2017/10/11/game-and-gamification/"  title="游戏和游戏化（上）">
 <strong>下一篇：</strong><br/> 
 <span>游戏和游戏化（上）
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  <div class="sponsor">
  <br />
  <p class="asidetitle">赞助商</p>
  <a target="_blank" href="https://www.boxueio.com/register/30b8aaac334ecfa97fe6937cc091aca6">
  <img src="http://wx1.sinaimg.cn/large/65dc76a3ly1fduudtak0zj206j05kglq.jpg" width="235px" height="200px" />
  </a>
  <br /><br /><a href="/sponsor">
  <font color="#2ca6cb" style="
    font-size: 14px;
    text-align: right;
">购买广告位</font></a>
</div>


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/books-summary/" title="books summary">books summary</a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS</a></li>
		  
		
		  
			<li><a href="/categories/iOS-weekly/" title="iOS weekly">iOS weekly</a></li>
		  
		
		  
			<li><a href="/categories/mac/" title="mac">mac</a></li>
		  
		
		  
			<li><a href="/categories/shell/" title="shell">shell</a></li>
		  
		
		  
			<li><a href="/categories/summary/" title="summary">summary</a></li>
		  
		
		  
		
		  
		
		</ul>
</div>


  <div class="weixin">
  <br />
  <p class="asidetitle">微信公众号</p>
  <p>关注我的微信公众号，和我一起成长：</p>
  <img src="http://ww4.sinaimg.cn/mw690/65dc76a3jw1f1ngaau9arj20760763yr.jpg" width="230px" />
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

	<p class="copyright" style="margin-top: 10px;">
	Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018
	
	<a href="/about" target="_blank" title="唐巧">唐巧</a>
	

	</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-28029597-1', 'null');  
ga('send', 'pageview');
</script>





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
